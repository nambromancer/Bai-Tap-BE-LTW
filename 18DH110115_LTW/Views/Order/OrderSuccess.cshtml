@model _18DH110115_LTW.Models.Order

@{
    ViewBag.Title = "Đặt hàng thành công";
    Layout = "~/Views/Shared/_CustomerLayout.cshtml";
}

<link rel="stylesheet" href="@Url.Content("~/Content/OrderSuccess.css")">

<div class="order-success-container">
    <!-- Success Header -->
    <div class="success-header">
        <div class="success-icon">
            <i class="fas fa-check-circle"></i>
        </div>
        <h2>ĐẶT HÀNG THÀNH CÔNG!</h2>
        <p>Cảm ơn bạn đã mua hàng. Đơn hàng của bạn đã được tiếp nhận và đang được xử lý.</p>
    </div>

    <!-- Thông tin đơn hàng -->
    <div class="order-info-section">
        <h3 class="section-title-success">
            <i class="fas fa-info-circle"></i> Thông tin đơn hàng
        </h3>
        <div class="order-info-grid">
            <div class="info-item">
                <span class="info-label">Mã đơn hàng</span>
                <span class="info-value">#@Model.OrderID</span>
            </div>
            <div class="info-item">
                <span class="info-label">Ngày đặt hàng</span>
                <span class="info-value">@Model.OrderDate.ToString("dd/MM/yyyy HH:mm")</span>
            </div>
            <div class="info-item">
                <span class="info-label">Trạng thái thanh toán</span>
                <span class="info-value">@Model.PaymentStatus</span>
            </div>
            <div class="info-item">
                <span class="info-label">Phương thức thanh toán</span>
                <span class="info-value">@Model.PaymentMethod</span>
            </div>
            <div class="info-item">
                <span class="info-label">Phương thức giao hàng</span>
                <span class="info-value">@Model.DeliveryMethod</span>
            </div>
            <div class="info-item">
                <span class="info-label">Địa chỉ giao hàng</span>
                <span class="info-value">@Model.ShippingAddress</span>
            </div>
            <div class="info-item">
                <span class="info-label">Tổng tiền</span>
                <span class="info-value highlight">@string.Format("{0:N0}", Model.TotalAmount) đ</span>
            </div>
        </div>
    </div>

    <!-- Chi tiết đơn hàng -->
    <div class="order-info-section">
        <h3 class="section-title-success">
            <i class="fas fa-list"></i> Chi tiết đơn hàng
        </h3>
        <table class="order-details-table">
            <thead>
                <tr>
                    <th>Hình ảnh</th>
                    <th>Sản phẩm</th>
                    <th>Số lượng</th>
                    <th>Đơn giá</th>
                    <th>Thành tiền</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model.OrderDetails)
                {
                    <tr>
                        <td>
                            @if (item.Product != null)
                            {
                                <img src="@Url.Content(item.Product.ProductImage)" alt="@item.Product.ProductName" class="product-image" />
                            }
                        </td>
                        <td class="product-name">
                            @if (item.Product != null)
                            {
                                @item.Product.ProductName
                            }
                        </td>
                        <td>@item.Quantity</td>
                        <td class="price">@string.Format("{0:N0}", item.UnitPrice) đ</td>
                        <td class="price">@string.Format("{0:N0}", item.TotalPrice) đ</td>
                    </tr>
                }
            </tbody>
        </table>
    </div>

    <!-- Actions -->
    <div class="order-actions">
        <a href="@Url.Action("Index", "Home")" class="btn-action btn-primary">
            <i class="fas fa-home"></i> Tiếp tục mua sắm
        </a>
        <a href="javascript:window.print()" class="btn-action btn-secondary">
            <i class="fas fa-print"></i> In đơn hàng
        </a>
    </div>
</div>